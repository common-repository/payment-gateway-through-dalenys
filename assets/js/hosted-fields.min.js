var dalenys=dalenys||{},be2bill=dalenys;dalenys.hostedFields=be2bill.hostedFields=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){var n=["card","expiry","cryptogram","brand"],o={card:"card",expiry:"expiry",cryptogram:"cryptogram",brand:"brand"};e.exports={hostedFieldsTypesEnum:n,hostedFieldsTypes:o}},function(e,t){var n={tokenize:"tokenize",tokenizeResponse:"tokenizeResponse",invalidElement:"invalid",validElement:"valid",emptyElement:"empty",focusElement:"focus",blurElement:"blur",inputElement:"input",disabledElement:"disabled",enabledElement:"enabled",validateElement:"validate",triggerBlur:"triggerBlur",touchStart:"touchStart"};e.exports=n},function(e,t,n){function o(e){var t=null,n=[],o={},i=[],s=function(){i.forEach(function(e){e.remove()}),i=[],n=[],o={},b.unbind()},r=function(){s(),O();var t=e.fields[c.cryptogram]!==undefined,n=JSON.parse(JSON.stringify(e));L(n.fields,t),P(n),b.bind(M,this)},a=function(){var t=e.key;if("object"!=typeof t)throw new l('"key" parameter must be an object');if(!1===t.hasOwnProperty("id"))throw new l('"key" parameter must have an "id" property');if(!1===t.hasOwnProperty("value"))throw new l('"key" parameter must have a "value" property')},g=function(){if(!1===e.hasOwnProperty("fields"))throw new l('Missing "fields" parameter');for(var t in e.fields){if(-1===f.indexOf(t))throw new l('Field "'+t+'" is not supported');_(e.fields[t],t)}w()},w=function(){for(var t={bankcard:[c.card,c.expiry,c.cryptogram],bankcardWithBrandSelector:[c.card,c.expiry,c.cryptogram,c.brand],maestro:[c.card,c.expiry],maestroWithBrandSelector:[c.card,c.expiry,c.brand],cvvOnly:[c.cryptogram]},n=!1,o=Object.keys(e.fields),i=0;i<Object.keys(t).length;i++){var s=Object.keys(t)[i];if(1==(n=C(o,t[s])))break}if(!1===n)throw new l("Field configuration is not valid")},C=function(e,t){if(e.length!=t.length)return!1;for(var n=!0,o=0;o<e.length;o++)n=t.includes(e[o])&&n;return n},_=function(e,t){if("object"!=typeof e)throw new l('Field "'+t+'" is not an object');A(e,t),!0===e.hasOwnProperty("style")&&x(e,t),!0===e.hasOwnProperty("length")&&k(e.length)},A=function(e,t){if(!1===e.hasOwnProperty("id"))throw new l('Field "'+t+'" is missing "id" property')},O=function(){for(var t in e.fields){var n=e.fields[t];if(null===document.getElementById(n.id))throw new l('Could not find id "'+n.id+'" in DOM for field "'+t+'".')}},x=function(e,t){for(var n in e.style){if(-1===y.indexOf(n))throw new l('Property "'+n+'" for field "'+t+'" is not supported');if("object"!=typeof e.style[n])throw new l('Css class "'+n+'" for field "'+t+'" is not an object');S(e.style[n],n,t)}},S=function(e,t,n){for(var o in e)if(-1==m.indexOf(o))throw new l('Css property "'+o+'" on class "'+t+'" for field "'+n+'" is not supported')},k=function(e){var t=e%1!=0,n="number"!=typeof e,o=e<3||e>4;if(n||t)throw new l("Length property is not an integer");if(o)throw new l("Length property must be 3 or 4")},P=function(){var e=T(),t=document.createElement("iframe");t.setAttribute("src",e),t.setAttribute("id","hosted-fields-frame-controller"),t.setAttribute("name","hosted-fields-frame-controller"),t.setAttribute("style","display:none"),document.body.appendChild(t),i.push(t)},L=function(e,t){Object.keys(e).map(function(n){-1!==f.indexOf(n)&&I(n,e[n],t)})},I=function(e,t,s){var r=document.getElementById(t.id);if(t.placeholder=B(t.placeholder),null!=t.style&&(t.style=j(t.style)),null!=t.isCbPreferredNetwork&&(t.isCbPreferredNetwork=B(t.isCbPreferredNetwork.toString())),null!=t.enableAutospacing&&(t.enableAutospacing=B(t.enableAutospacing.toString())),null!==r){var a=N(e,t,s),l=document.createElement("iframe"),d="hosted-fields-frame-"+e;l.setAttribute("id",d),l.setAttribute("name",d),l.setAttribute("src",a),l.setAttribute("frameborder","0"),l.setAttribute("scrolling","no"),l.setAttribute("style","border: none; margin: 0px; padding: 0px; width: 1px; min-width: 100%; height: 100%; overflow: hidden; display: block;"),r.appendChild(l);var f=new v(r);f.setEmptyState(),o[e]=f,n.push(e),i.push(l),document.getElementById("hosted-fields-frame-brand")&&document.getElementById("hosted-fields-frame-brand").setAttribute("tabindex","-1")}},N=function(t,n,o){var i=p.hostedFieldsUrl+"?ELEMENTTYPE="+t+"&APIKEYID="+B(e.key.id)+"&APIKEY="+B(e.key.value)+"&LOCALE="+F()+"&CRYPTOGRAM="+o;return"undefined"!=typeof n.style&&null!==n.style&&(i+="&STYLE="+n.style),"undefined"!=typeof n.placeholder&&null!==n.placeholder&&(i+="&PLACEHOLDER="+n.placeholder),"undefined"!=typeof n.isCbPreferredNetwork&&null!==n.isCbPreferredNetwork&&(i+="&ISCBPREFERREDNETWORK="+n.isCbPreferredNetwork),"undefined"!=typeof n.enableAutospacing&&null!==n.enableAutospacing&&(i+="&ENABLEAUTOSPACING="+n.enableAutospacing),t==c.cryptogram&&"undefined"!=typeof n.length&&(i+="&LENGTH="+n.length),i+="&VERSION=2.0.0"},F=function(){var t="en";return"string"==typeof e.locale&&(t=e.locale),t},T=function(){var t=j(n);return p.hostedFieldsUrl+"?ELEMENTTYPE=controller&ELEMENTS="+t+"&APIKEYID="+B(e.key.id)+"&APIKEY="+B(e.key.value)+"&LOCALE="+F()+"&VERSION=2.0.0"},j=function(e){var t=null;return"object"==typeof e&&(t=E(JSON.stringify(e))),t},B=function(e){var t=null;return"string"==typeof e&&(t=encodeURIComponent(e)),t},M=function(e){try{var t=JSON.parse(e.data)}catch(e){return}switch(t.type){case h.tokenizeResponse:R(t);break;case h.emptyElement:case h.validElement:case h.invalidElement:case h.disabledElement:case h.enabledElement:case h.inputElement:z(t);break;case h.blurElement:Y(t);break;case h.touchStart:D(t);break;case h.focusElement:K(t);break;default:throw new d("Received invalid event '"+t.type+"' from '"+e.origin+"'")}},R=function(e){t&&t(e.responseMessage)},D=function(e){V(e)},V=function(e){var t=document.activeElement;-1!=u.indexOf(t.id)&&document.getElementById("hosted-fields-frame-controller").contentWindow.postMessage(JSON.stringify({type:h.touchStart,fieldName:t.id}),p.hostedFieldsDomain)},z=function(t){var n=t.element,i=e.fields[n];o[n].toggleClasses(t.type),"function"==typeof i.onInput&&i.onInput(t)},Y=function(t){var n=t.element,i=e.fields[n];o[n].removeFocusState(),"function"==typeof i.onBlur&&i.onBlur(t)},K=function(t){var n=t.element,i=e.fields[n];o[n].addFocusState(),"function"==typeof i.onFocus&&i.onFocus(t)};return this.createToken=function(e){t=e,document.getElementById("hosted-fields-frame-controller").contentWindow.postMessage(JSON.stringify({type:h.tokenize}),p.hostedFieldsDomain)},this.load=function(){r()},this.dispose=function(){s()},function(){if("object"!=typeof e||null===e)throw new l("Expected object as parameters");if(!1===e.hasOwnProperty("key"))throw new l('Missing "key" parameter');a(),g()}(),this}var i=n(3),s=n(4),r=n(5),a=n(6),l=n(7),d=n(8),f=n(0).hostedFieldsTypesEnum,c=n(0).hostedFieldsTypes,u=n(9),h=n(1),p=n(10),y=n(11),m=n(12),v=n(13),b=n(14),E=n(15);s.loadPrototypes(),i.loadPrototypes(),r.loadPrototypes(),a.loadPrototypes(),e.exports=o},function(e,t){function n(){this.loadPrototypes=function(){this._loadKeys()},this._loadKeys=function(){Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(i){if("function"!=typeof i&&("object"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in i)e.call(i,s)&&a.push(s);if(t)for(r=0;r<o;r++)e.call(i,n[r])&&a.push(n[r]);return a}}())}}e.exports=new n},function(e,t){function n(){this.loadPrototypes=function(){this._loadIndexOf(),this._loadMap(),this._loadForEach(),this._loadIncludes()},this._loadMap=function(){Array.prototype.map||(Array.prototype.map=function(e){var t,n,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=new Array(s),o=0;o<s;){var r,a;o in i&&(r=i[o],a=e.call(t,r,o,i),n[o]=a),o++}return n})},this._loadIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return-1;var s=0|t;if(s>=i)return-1;for(n=Math.max(s>=0?s:i-Math.abs(s),0);n<i;){if(n in o&&o[n]===e)return n;n++}return-1})},this._loadForEach=function(){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=this;t=t||this;for(var o=0,i=n.length;o!==i;++o)e.call(t,n[o],o,n)}),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCollection.prototype.forEach||(HTMLCollection.prototype.forEach=Array.prototype.forEach)},this._loadIncludes=function(){Array.prototype.includes||(Array.prototype.includes=function(e){for(var t=!1,n=this,o=0,i=n.length;o!==i;++o)n[o]==e&&(t=!0);return t})}}e.exports=new n},function(e,t,n){function o(){this.loadPrototypes=function(){this._loadBtoa()},this._loadBtoa=function(){Window.prototype.btoa||(Window.prototype.btoa=function(){function e(e){this.message=e}var n=t,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",n.btoa||(n.btoa=function(t){for(var n,i,s=String(t),r=0,a=o,l="";s.charAt(0|r)||(a="=",r%1);l+=a.charAt(63&n>>8-r%1*8)){if((i=s.charCodeAt(r+=.75))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return l}),n.atob||(n.atob=function(t){var n=String(t).replace(/[=]+$/,"");if(n.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,r=0,a=0,l="";s=n.charAt(a++);~s&&(i=r%4?64*i+s:s,r++%4)?l+=String.fromCharCode(255&i>>(-2*r&6)):0)s=o.indexOf(s);return l})})}}e.exports=new o},function(e,t){function n(){this.loadPrototypes=function(){this._loadAddEventListener(),this._loadRemove()},this._loadAddEventListener=function(){Element.prototype.addEventListener||(Element.prototype.addEventListener=function(e,t){this.attachEvent(e,t)})},this._loadRemove=function(){Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}}e.exports=new n},function(e,t){function n(e){this.message=e}e.exports=n},function(e,t){function n(e){this.message=e}e.exports=n},function(e,t){var n=["hosted-fields-frame-card","hosted-fields-frame-expiry","hosted-fields-frame-cryptogram","hosted-fields-frame-brand"];e.exports=n},function(e,t,n){var o={hostedFieldsUrl:"https://secure-test.be2bill.com/hosted-fields/service/hosted-fields",hostedFieldsDomain:"https://secure-test.be2bill.com",internalBinService:"https://processing.sandbox.dalenys.com/v2/bin",tokenize:["https://secure-test.be2bill.com/hosted-fields/service/tokenize"]};e.exports=o},function(e,t){var n=["input",":empty",":valid",":invalid",":focus",":hover","::placeholder"];e.exports=n},function(e,t){var n=["color","font-family","font-size","font-style","font-variant","font-weight","font-smooth","line-height","letter-spacing","text-decoration","text-shadow","text-transform","background-color"];e.exports=n},function(e,t,n){function o(e){this.inputElement=e,this._addClass=function(e){if(!1===this._containClass(e)){var t=this._getClassAttributeValue();t.length>0?this._setClassAttributeValue(t+" "+e):this._setClassAttributeValue(e)}},this._removeClass=function(e){if(!0===this._containClass(e)){for(var t=this._getClassAttributeValue(),n=t.split(" "),o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1);break}this._setClassAttributeValue(n.join(" "))}},this._containClass=function(e){return-1!==this._getClassAttributeValue().indexOf(e)},this._getClassAttributeValue=function(){var e=this.inputElement.getAttribute("class");return null==e?"":e},this._setClassAttributeValue=function(e){this.inputElement.setAttribute("class",e)},this.setCompleteState=function(){this._addClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-empty-state")},this.setErrorState=function(){this._addClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-empty-state")},this.setEmptyState=function(){this._addClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setBasicState=function(){this._removeClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setDisabledState=function(){this.inputElement.value=null,this._addClass("hosted-fields-disabled-state"),this._addClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setEnabledState=function(){this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-disabled-state")},this.addHoverState=function(){this._addClass("hosted-fields-hover-state")},this.removeHoverState=function(){this._removeClass("hosted-fields-hover-state")},this.addFocusState=function(){this._addClass("hosted-fields-focus-state")},this.removeFocusState=function(){this._removeClass("hosted-fields-focus-state")},this.removeInvalidState=function(){this._removeClass("hosted-fields-invalid-state")},this.toggleClasses=function(e){switch(e){case i.emptyElement:this.setEmptyState();break;case i.invalidElement:this.setErrorState();break;case i.validElement:this.setCompleteState();break;case i.disabledElement:this.setDisabledState();break;case i.enabledElement:this.setEnabledState()}},this.toggle=function(e){this._containClass(e)?this._removeClass(e):this._addClass(e)},this.add=function(e){!1===this._containClass(e)&&this._addClass(e)},this.remove=function(e){this._containClass(e)&&this._removeClass(e)}}var i=n(1);e.exports=o},function(e,t){function n(){var e=window.addEventListener?window.addEventListener:window.attachEvent,t=window.removeEventListener?window.removeEventListener:window.detachEvent,n=window.addEventListener?"message":"onmessage",o=null;this.bind=function(t,i){o=function(e){t.call(i,e)},e(n,o)},this.unbind=function(){null!==o&&t(n,o)}}e.exports=new n},function(e,t){function n(e){function t(e){this.message=e}t.prototype=new Error,t.prototype.name="InvalidCharacterError";for(var n,o,i=String(e),s=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="";i.charAt(0|s)||(r="=",s%1);a+=r.charAt(63&n>>8-s%1*8)){if((o=i.charCodeAt(s+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return a}e.exports=n}]);